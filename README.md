# Phys.IO

Phys.IO is a proof of concept desktop app that transforms clinical shorthand notes into physiotherapy referral letters using local AI.

## ⚠️ IMPORTANT DISCLAIMER - READ BEFORE USE ⚠️

**NOT A MEDICAL DEVICE. NOT FOR CLINICAL USE.**

This software is a PROTOTYPE provided for DEMONSTRATION PURPOSES ONLY:

- All outputs must be reviewed by qualified healthcare professionals
- No clinical validation has been performed
- No warranty or liability is accepted for any use
- Not suitable for patient care decisions
- Has not been registered or approved as a medical device

### Data Protection Notice
- All data is processed locally on your device
- Users are responsible for their own GDPR/data protection compliance
- No patient data should be entered without appropriate safeguards
- This application has not undergone formal privacy impact assessment

By using this software, you acknowledge these limitations and accept full responsibility for any consequences arising from its use.

The developer accepts NO LIABILITY for any decisions, actions, or outcomes resulting from the use of this software.

## Features

- **Privacy Focused**: By default, all processing happens locally via Ollama. No data is sent to external servers when used with standard configuration.[^1]
- **Time Saving**: Converts shorthand into structured, professional correspondence.
- **Clarifying**: Identifies information gaps and asks targeted questions

[^1]: While the default configuration keeps all data local, advanced users could potentially reconfigure the endpoint. The application does not currently validate whether endpoints are truly local.

## Screenshots

Please note that the patient data here is *entirely fictional and generated by Claude*. The referral letter and clarifying questions in the screenshots are generated by a model running locally on my device, based on the fictional patient notes. 


![Phys.IO Screenshot 1/3](./docs/sc1.png)
![Phys.IO Screenshot 2/3](./docs/sc2.png)
![Phys.IO Screenshot 3/3](./docs/sc3.png)

## Quick Start

### Prerequisites

1. **System Requirements:**
   - Node.js v16.x or later (tested with 16.20.0)
   - npm v8.x or later
   - Ollama v0.1.17 or later
   - Minimum 8GB RAM for small models, 16GB+ recommended
   - macOS, Windows 10+ or Linux

2. **Ollama Setup:**
   - Install [Ollama](https://ollama.ai/download) for your platform
   - Launch Ollama (it runs as a background service)
   - Pull a compatible model (8B parameter models recommended):
     ```bash
     ollama pull deepseek-r1:8b
     ```
   - Verify Ollama is running properly:
     ```bash
     ollama list
     ```

### Installation

```bash
# Clone the repository
git clone https://github.com/yourusername/phys.io.git

# Navigate to project directory
cd phys.io

# Install dependencies
npm install

# Run the application
npm start
```

## Process Flow

![Phys.IO Process Flow](./docs/process-flow.png)

## System Architecture

![Phys.IO System Architecture](./docs/system-architecture.png)

## Prompt engineering approach


The system uses specialised prompts for distinct stages:
- **primary transformation** - converts notes to letters
- **clarification** - identifies information gaps
- **contextual refinement** - incorporates clarifications into improved output

The primary prompt was evolved through 3 versions (v1-v3), iteratively refined using:
- comparison against physiotherapist-written reference letters for a test set of the clinical notes of 3 fictional patients (fictional patients generated by Claude and refined by qualified physiotherapist)
- automated evaluation using LLM-based scoring (see `/test/eval.py`)
- key metrics: completeness, accuracy, hallucination avoidance, clinical safety

*Access the full prompt files in the `/prompts` directory*

Note: Primarily tested on deepseek-r1:8b.

## License

[MIT](./LICENSE)
